"use strict";(self.webpackChunkaninfo_web_catedra=self.webpackChunkaninfo_web_catedra||[]).push([[6075],{4995:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>c,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"Material/Apuntes/docker","title":"Introducci\xf3n a Docker","description":"Docker es una plataforma que permite desarrollar, empaquetar y ejecutar aplicaciones en contenedores. Un contenedor es una unidad ligera y port\xe1til que contiene todo lo necesario para ejecutar una aplicaci\xf3n: c\xf3digo, runtime, librer\xedas y configuraciones del sistema.","source":"@site/docs/Material/Apuntes/docker.md","sourceDirName":"Material/Apuntes","slug":"/Material/Apuntes/docker","permalink":"/web/docs/Material/Apuntes/docker","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"SQL","permalink":"/web/docs/Material/Apuntes/apunte_sql"},"next":{"title":"Git y GitHub","permalink":"/web/docs/Material/Apuntes/git"}}');var r=s(4848),o=s(8453);const c={},a="Introducci\xf3n a Docker",l={},d=[{value:"\xbfPara qu\xe9 usar Docker?",id:"para-qu\xe9-usar-docker",level:3},{value:"Beneficios principales:",id:"beneficios-principales",level:3},{value:"Componentes clave de Docker:",id:"componentes-clave-de-docker",level:3},{value:"Diferencia entre imagen y contenedor:",id:"diferencia-entre-imagen-y-contenedor",level:3},{value:"Qu\xe9 necesito para usar Docker:",id:"qu\xe9-necesito-para-usar-docker",level:3},{value:"Docker Compose",id:"docker-compose",level:2},{value:"Caracter\xedsticas principales:",id:"caracter\xedsticas-principales",level:3},{value:"Comandos b\xe1sicos:",id:"comandos-b\xe1sicos",level:3},{value:"Ejemplo b\xe1sico de archivo <code>docker-compose.yml</code>:",id:"ejemplo-b\xe1sico-de-archivo-docker-composeyml",level:3},{value:"Docker Avanzado",id:"docker-avanzado",level:2},{value:"Vol\xfamenes y Bind Mounts",id:"vol\xfamenes-y-bind-mounts",level:3},{value:"Redes personalizadas",id:"redes-personalizadas",level:3},{value:"Variables de entorno y <code>.env</code>",id:"variables-de-entorno-y-env",level:3},{value:"Multi-stage builds",id:"multi-stage-builds",level:3}];function t(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"introducci\xf3n-a-docker",children:"Introducci\xf3n a Docker"})}),"\n",(0,r.jsx)(n.p,{children:"Docker es una plataforma que permite desarrollar, empaquetar y ejecutar aplicaciones en contenedores. Un contenedor es una unidad ligera y port\xe1til que contiene todo lo necesario para ejecutar una aplicaci\xf3n: c\xf3digo, runtime, librer\xedas y configuraciones del sistema."}),"\n",(0,r.jsx)(n.h3,{id:"para-qu\xe9-usar-docker",children:"\xbfPara qu\xe9 usar Docker?"}),"\n",(0,r.jsx)(n.p,{children:"Docker se ha convertido en una herramienta fundamental para el desarrollo moderno por m\xfaltiples razones:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Portabilidad:"})," permite correr una aplicaci\xf3n en distintos entornos (desarrollo, testing, producci\xf3n) sin modificar el c\xf3digo."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Aislamiento:"})," cada contenedor tiene su propio entorno, lo que evita conflictos entre dependencias de distintos proyectos."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Reproducibilidad:"})," se puede garantizar que la aplicaci\xf3n se ejecute de la misma forma en cualquier equipo o servidor."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Productividad:"})," acelera la configuraci\xf3n y puesta en marcha de entornos de desarrollo."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Escalabilidad:"})," facilita el despliegue de arquitecturas basadas en microservicios."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Automatizaci\xf3n:"})," se integra f\xe1cilmente con herramientas de CI/CD para automatizar pruebas y despliegues."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Reducci\xf3n de costos:"})," al ser m\xe1s liviano que una m\xe1quina virtual, consume menos recursos."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"beneficios-principales",children:"Beneficios principales:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Portabilidad entre entornos (dev, test, prod)."}),"\n",(0,r.jsx)(n.li,{children:"Aislamiento de procesos."}),"\n",(0,r.jsx)(n.li,{children:"Uso eficiente de recursos (a diferencia de las m\xe1quinas virtuales)."}),"\n",(0,r.jsx)(n.li,{children:"Facilidad para desplegar y escalar aplicaciones."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"componentes-clave-de-docker",children:"Componentes clave de Docker:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Docker Engine:"})," es el motor central de Docker, compuesto por un daemon que se ejecuta en segundo plano. Se encarga de crear y ejecutar contenedores, gestionar im\xe1genes, redes y vol\xfamenes. Es el componente que permite que Docker funcione."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Dockerfile:"})," es un archivo de texto que contiene una serie de instrucciones declarativas para construir una imagen Docker. En \xe9l se especifica el sistema base, las dependencias, el c\xf3digo a copiar, variables de entorno y el comando que se ejecutar\xe1 al iniciar el contenedor."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Imagen:"})," es una plantilla inmutable que contiene todo el entorno necesario para ejecutar una aplicaci\xf3n (SO, librer\xedas, binarios, etc.). Las im\xe1genes se crean a partir del Dockerfile y pueden ser compartidas y versionadas. No cambian mientras se usan."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Contenedor:"})," es una instancia en ejecuci\xf3n de una imagen. Representa una unidad de ejecuci\xf3n aislada, con su propio sistema de archivos, red y procesos. Al detenerse o eliminarse, no conserva los cambios salvo que se usen vol\xfamenes."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Docker Hub:"})," es un servicio en l\xednea donde los usuarios pueden subir y descargar im\xe1genes Docker. Funciona como un repositorio p\xfablico o privado que permite compartir im\xe1genes entre distintos equipos o proyectos."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"diferencia-entre-imagen-y-contenedor",children:"Diferencia entre imagen y contenedor:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Una ",(0,r.jsx)(n.strong,{children:"imagen"})," es la definici\xf3n est\xe1tica (template) de lo que contendr\xe1 el contenedor."]}),"\n",(0,r.jsxs)(n.li,{children:["Un ",(0,r.jsx)(n.strong,{children:"contenedor"})," es una instancia en ejecuci\xf3n de esa imagen."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"qu\xe9-necesito-para-usar-docker",children:"Qu\xe9 necesito para usar Docker:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["En ",(0,r.jsx)(n.strong,{children:"Linux"}),": Docker Engine."]}),"\n",(0,r.jsxs)(n.li,{children:["En ",(0,r.jsx)(n.strong,{children:"macOS"}),": Docker Desktop."]}),"\n",(0,r.jsxs)(n.li,{children:["En ",(0,r.jsx)(n.strong,{children:"Windows"}),": Docker Desktop + WSL2."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"docker-compose",children:"Docker Compose"}),"\n",(0,r.jsx)(n.p,{children:"Docker Compose es una herramienta que permite definir, configurar y ejecutar m\xfaltiples contenedores Docker como una \xfanica aplicaci\xf3n. Es ideal para entornos donde se requiere una arquitectura basada en varios servicios interconectados (por ejemplo: backend, base de datos, frontend, cache)."}),"\n",(0,r.jsxs)(n.p,{children:["Todo se gestiona desde un archivo YAML (",(0,r.jsx)(n.code,{children:"docker-compose.yml"}),"), donde se describe la infraestructura de la aplicaci\xf3n, permitiendo abstraer detalles t\xe9cnicos de la l\xednea de comandos y facilitando el despliegue y mantenimiento del sistema."]}),"\n",(0,r.jsx)(n.h3,{id:"caracter\xedsticas-principales",children:"Caracter\xedsticas principales:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Define m\xfaltiples servicios en un \xfanico archivo."}),"\n",(0,r.jsx)(n.li,{children:"Administra vol\xfamenes, redes y variables de entorno."}),"\n",(0,r.jsx)(n.li,{children:"Facilita la reproducci\xf3n exacta de entornos."}),"\n",(0,r.jsx)(n.li,{children:"Permite escalar servicios con una sola instrucci\xf3n."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"comandos-b\xe1sicos",children:"Comandos b\xe1sicos:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"docker-compose up"}),": levanta todos los servicios definidos. Puede usar el flag ",(0,r.jsx)(n.code,{children:"-d"})," para correr en modo \u201cdetached\u201d."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"docker-compose down"}),": detiene y elimina los servicios, redes y vol\xfamenes asociados."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"docker-compose build"}),": construye las im\xe1genes a partir de los Dockerfiles definidos."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"docker-compose logs"}),": muestra los logs de todos los servicios."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"docker-compose ps"}),": lista los servicios que se est\xe1n ejecutando."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"docker-compose exec <servicio> <comando>"}),": ejecuta un comando en un contenedor en ejecuci\xf3n."]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"ejemplo-b\xe1sico-de-archivo-docker-composeyml",children:["Ejemplo b\xe1sico de archivo ",(0,r.jsx)(n.code,{children:"docker-compose.yml"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'version: \'3.8\'\nservices:\n  web:\n    build: .\n    ports:\n      - "5000:5000"\n    volumes:\n      - .:/code\n    environment:\n      - FLASK_ENV=development\n  redis:\n    image: "redis:alpine"\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Este archivo lanza dos servicios: ",(0,r.jsx)(n.code,{children:"web"}),", que se construye desde un Dockerfile local, y ",(0,r.jsx)(n.code,{children:"redis"}),", que utiliza una imagen de Docker Hub. ",(0,r.jsx)(n.code,{children:"web"})," monta el c\xf3digo local como volumen, expone el puerto 5000 y establece una variable de entorno."]}),"\n",(0,r.jsx)(n.p,{children:"Tambi\xe9n es posible definir:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Redes personalizadas (",(0,r.jsx)(n.code,{children:"networks:"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:["Vol\xfamenes persistentes (",(0,r.jsx)(n.code,{children:"volumes:"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:["Dependencias entre servicios (",(0,r.jsx)(n.code,{children:"depends_on:"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:["Configuraciones espec\xedficas por entorno (",(0,r.jsx)(n.code,{children:"env_file:"}),")"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"docker-avanzado",children:"Docker Avanzado"}),"\n",(0,r.jsx)(n.h3,{id:"vol\xfamenes-y-bind-mounts",children:"Vol\xfamenes y Bind Mounts"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Vol\xfamenes:"})," gestionados por Docker, ideales para persistencia."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Bind Mounts:"})," enlazan carpetas del host con el contenedor. \xdatiles en desarrollo."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"redes-personalizadas",children:"Redes personalizadas"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Docker permite crear redes virtuales entre contenedores."}),"\n",(0,r.jsx)(n.li,{children:"Se puede definir una red propia en Compose y conectar servicios."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"networks:\n  mynetwork:\n    driver: bridge\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"variables-de-entorno-y-env",children:["Variables de entorno y ",(0,r.jsx)(n.code,{children:".env"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Docker Compose permite definir variables de entorno directamente en el archivo ",(0,r.jsx)(n.code,{children:"docker-compose.yml"})," o en un archivo externo ",(0,r.jsx)(n.code,{children:".env"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Estas variables ayudan a mantener configuraciones desacopladas del c\xf3digo fuente."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Son \xfatiles para definir:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Puertos"}),"\n",(0,r.jsx)(n.li,{children:"Nombres de im\xe1genes o contenedores"}),"\n",(0,r.jsx)(n.li,{children:"Claves de API"}),"\n",(0,r.jsx)(n.li,{children:"Usuarios y contrase\xf1as (aunque se recomienda no incluir secretos en texto plano)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Ejemplo de archivo"})," ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:".env"})})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"MYSQL_ROOT_PASSWORD=clave123\nPORT=3306\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"docker-compose.yml"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'services:\n  db:\n    image: mysql\n    ports:\n      - "${PORT}:3306"\n    environment:\n      - MYSQL_ROOT_PASSWORD=${MYSQL_ROOT_PASSWORD}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["De esta forma, se puede reutilizar el mismo archivo ",(0,r.jsx)(n.code,{children:"docker-compose.yml"})," en diferentes entornos (dev, staging, producci\xf3n) simplemente cambiando el archivo ",(0,r.jsx)(n.code,{children:".env"})," correspondiente."]}),"\n",(0,r.jsx)(n.h3,{id:"multi-stage-builds",children:"Multi-stage builds"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Permiten optimizar im\xe1genes dividiendo el proceso en varias etapas."}),"\n",(0,r.jsx)(n.li,{children:"Reduce el tama\xf1o de la imagen final eliminando herramientas de build."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dockerfile",children:"FROM node:14 AS builder\nWORKDIR /app\nCOPY . .\nRUN npm install && npm run build\n\nFROM nginx:alpine\nCOPY --from=builder /app/build /usr/share/nginx/html\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Referencias:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://docs.docker.com/",children:"https://docs.docker.com/"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://hub.docker.com/",children:"https://hub.docker.com/"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>a});var i=s(6540);const r={},o=i.createContext(r);function c(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);